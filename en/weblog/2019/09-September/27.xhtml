<?xml version="1.0" encoding="utf-8"?>
<!--
                                                                                     
 h       t     t                ::       /     /                     t             / 
 h       t     t                ::      //    //                     t            // 
 h     ttttt ttttt ppppp sssss         //    //  y   y       sssss ttttt         //  
 hhhh    t     t   p   p s            //    //   y   y       s       t          //   
 h  hh   t     t   ppppp sssss       //    //    yyyyy       sssss   t         //    
 h   h   t     t   p         s  ::   /     /         y  ..       s   t    ..   /     
 h   h   t     t   p     sssss  ::   /     /     yyyyy  ..   sssss   t    ..   /     
                                                                                     
	<https://y.st./>
	Copyright © 2019 Alex Yst <mailto:copyright@y.st>

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program. If not, see <https://www.gnu.org./licenses/>.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<base href="https://y.st./en/weblog/2019/09-September/27.xhtml"/>
		<title>A hidden gotcha&quot; &lt;https://y.st./en/weblog/2019/09-September/27.xhtml&gt;</title>
		<link rel="icon" type="image/png" href="/link/CC_BY-SA_4.0/y.st./icon.png"/>
		<link rel="stylesheet" type="text/css" href="/link/main.css"/>
		<script type="text/javascript" src="/script/javascript.js"/>
		<meta name="viewport" content="width=device-width"/>
	</head>
	<body>
<nav>
	<p>
		<a href="/en/coursework/">Coursework</a> |
		<a href="/en/take-down/">Take-down requests</a> |
		<a href="/en/">Home</a> |
		<a href="/en/a/about.xhtml">About</a> |
		<a href="/en/a/contact.xhtml">Contact</a> |
		<a href="/a/canary.txt">Canary</a> |
		<a href="/en/URI_research/"><abbr title="Uniform Resource Identifier">URI</abbr> research</a> |
		<a href="/en/opinion/">Opinions</a> |
		<a href="/en/law/">Law</a> |
		<a href="/en/recipe/">Recipes</a> |
		<a href="/en/a/links.xhtml">Links</a> |
		<a href="/en/weblog/2019/09-September/27.xhtml.asc">{this page}.asc</a>
	</p>
	<hr/>
	<p>
		Weblog index:
		<a href="/en/weblog/memories">Memories</a> |
		<a href="/en/weblog/"><abbr title="American Standard Code for Information Interchange">ASCII</abbr> calendars</a> |
		<a href="/en/weblog/index_ol_ascending.xhtml">Ascending list</a> |
		<a href="/en/weblog/index_ol_descending.xhtml">Descending list</a>
	</p>
	<hr/>
	<p>
		Jump to entry:
		<a href="/en/weblog/2015/03-March/07.xhtml">&lt;&lt;First</a>
		<a rel="prev" href="/en/weblog/2019/09-September/26.xhtml">&lt;Previous</a>
		<a rel="next" href="/en/weblog/2019/09-September/28.xhtml">Next&gt;</a>
		<a href="/en/weblog/latest.xhtml">Latest&gt;&gt;</a>
			</p>
			<hr/>
</nav>
		<header>
			<h1>A hidden gotcha&quot;</h1>
			<p>Day 01665: <time>Friday, 2019 September 27</time></p>
		</header>
<img src="/img/CC_BY-SA_4.0/y.st./weblog/2019/09/27.jpg" alt="A light blue flower" class="framed-centred-image" width="649" height="480"/>
<section id="sick">
	<h2>Sick</h2>
	<p>
		I&apos;m still sick today, but I&apos;m feeling a bit better.
		I hope to be mostly better by tomorrow.
		If I&apos;m not, the work day isn&apos;t going to be much fun.
	</p>
	<p>
		I didn&apos;t do much today, but I did pop into work to pick up m schedule for the week.
		Like yesterday, this was mostly just so I&apos;d get some exercise, even if just a little bit.
	</p>
</section>
<section id="Minetest">
	<h2>Minetest</h2>
	<img src="/img/CC_BY-SA_3.0/minetest.net./weblog/2019/09/27.png" alt="My first elemental crystal: a pine sapling crystal" class="framed-centred-image" width="1024" height="600"/>
	<p>
		I managed to get a pine sapling elemental crystal today.
		That&apos;s now saving me a lot of inventory space in my chest.
		With the new elemental crystal storage system, I&apos;m using my elemental items a bit more sparingly.
		As such, I&apos;m using regular chests instead of locked chests.
		That&apos;s why I haven&apos;t had to dig for iron or resort to corpse-based storage this time.
		I don&apos;t really need locked chests anyway; I&apos;m the only player in this game world.
		There&apos;s no one around to jack my stuff.
	</p>
	<p>
		I feel like I made a lot of progress on my island today.
		And I&apos;m not talking about the pine crystal.
		That thing&apos;s nice, and keeps the thing I&apos;ve got the most of from taking up any unnecessary space, but doesn&apos;t actually get me anywhere for the time being.
		Not until I get the elemental tower, a place I plan to put one of each element&apos;s crystal at.
		Instead, my real progress was in snow-farming and reworking the land.
		In my small, completed corner of the island, I&apos;ve gotten five trees set up in what will become my permanent pine farm.
		Progress is slow, but I&apos;m actually getting somewhere now.
		Once I have the pine farm section of the island done, I&apos;ll probably next focus on the part of the bridge that goes out over the island.
		For now, getting the actual pine farm set up takes precedence though, so I can take down the temporary pine farm.
		The less temporary infrastructure I&apos;m working with, the closer to having an actual base of operations I&apos;ll feel I have.
	</p>
	<p>
		I swore I saw some leaves I&apos;d placed disappear on me as I turned back to my monitor at one point.
		I couldn&apos;t quite be sure though.
		Then a bit later, I tested, and some of my placed leaves definitely <strong>*did*</strong> disappear on me after I&apos;d mined a nearby trunk.
		The thing about modern leaf decay is that it activates based on nearby trunks that have been mined.
		It used to be controlled by an <abbr title="Active Block Modifier">ABM</abbr>, but that meant the <abbr title="Active Block Modifier">ABM</abbr> had to fire off repeatedly in cases in which decay shouldn&apos;t occur, as nearby trunks were still around.
		The leaves would check for a trunk, then when they found one, they&apos;d abort and not decay.
		For a while now, placing leaves from your inventory has additionally set their <code>param2</code> value to <code>1</code>, which the leaf decay <abbr title="Active Block Modifier">ABM</abbr> also checked and aborted if found set to <code>1</code>.
		Basically, if you place stuff somewhere, you probably want it to stay there, right?
		These days, no <abbr title="Active Block Modifier">ABM</abbr> is used.
		Instead, when a trunk is mined, the node instructs the game to find all the nearby leaves of the relevant type (all leaves aren&apos;t affected by the presence of all trunks any more) that aren&apos;t near another trunk of the same type, and set a timer on each of them to make them decay.
		Did the developers forget to perform the <code>param2</code> check in the new code?
		This isn&apos;t the first time I&apos;ve had this issue, either.
	</p>
	<p>
		Frustrated, I searched for the leaf decay code in the <code>default</code> mod.
		What I found is a function that appeared to only set <code>param2</code> to <code>1</code> if the player isn&apos;t holding the &quot;sneak&quot; key.
		Um.
		What?
		So I tested in-game.
		Old versions of the client allowed you to see the name of the node and the name of the texture you were currently pointing at.
		These days, it instead shows you the node name and the <code>param2</code> value, which given paletted nodes, I much prefer.
		But anyway, you can easily see <code>param2</code> values now.
		And they weren&apos;t getting set when holding the &quot;sneak&quot; key, while they were when not holding it.
		Who thought this would possibly be a good idea!?
		It means that if you&apos;re trying to avoid falling off a ledge while placing your leaves, they&apos;ll be subject to decay.
		When would you ever be placing leaves while wanting them to disapear on you if nearby trunks are removed?
		If you place the node, you probably want it to stay there!
		I can&apos;t think of a single situation in which you&apos;d want to manually place leaf nodes and not mind them disappearing on you.
		This is just asinine.
		Then again though, so was the removal of the ability to place sideways slabs.
		The developers also thought it&apos;d be a good idea to do that, making slabs almost useless to me.
		There&apos;s a few cases in which I&apos;d actually want to place right-side-up or upside-down slabs, but for the most part, I only used the sideways ones, as they make for nice doorways that other players couldn&apos;t send liquids through.
		And now, the only way to get sideways slabs is to place upside-down or right-side-up slabs, then waste iron on a screwdriver and rotate them.
		I&apos;m not wasting iron on that garbage.
		Anyway, I wrote a <a href="https://github.com/minetest/minetest_game/pull/2503">pull request</a> to patch out this annoying feature, and in the description, mentioned the alternative of at least informing the player of the feature, just because I doubt the maintainers area actually going to let me patch out that annoyance.
		Hopefully they&apos;ll at least make this obvious to future players, getting rid of the hidden gotcha&apos; aspect of the problem.
	</p>
</section>
		<hr/>
		<p>
			Copyright © 2019 Alex Yst;
			You may modify and/or redistribute this document under the terms of the <a rel="license" href="/license/gpl-3.0-standalone.xhtml"><abbr title="GNU&apos;s Not Unix">GNU</abbr> <abbr title="General Public License version Three or later">GPLv3+</abbr></a>.
			If for some reason you would prefer to modify and/or distribute this document under other free copyleft terms, please ask me via email.
			My address is in the source comments near the top of this document.
			This license also applies to embedded content such as images.
			For more information on that, see <a href="/en/a/licensing.xhtml">licensing</a>.
		</p>
		<p>
			<abbr title="World Wide Web Consortium">W3C</abbr> standards are important.
			This document conforms to the <a href="https://validator.w3.org./nu/?doc=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F09-September%2F27.xhtml"><abbr title="Extensible Hypertext Markup Language">XHTML</abbr> 5.2</a> specification and uses style sheets that conform to the <a href="http://jigsaw.w3.org./css-validator/validator?uri=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F09-September%2F27.xhtml"><abbr title="Cascading Style Sheets">CSS</abbr>3</a> specification.
		</p>
	</body>
</html>

