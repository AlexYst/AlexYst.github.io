<?xml version="1.0" encoding="utf-8"?>
<!--
                                                                                     
 h       t     t                ::       /     /                     t             / 
 h       t     t                ::      //    //                     t            // 
 h     ttttt ttttt ppppp sssss         //    //  y   y       sssss ttttt         //  
 hhhh    t     t   p   p s            //    //   y   y       s       t          //   
 h  hh   t     t   ppppp sssss       //    //    yyyyy       sssss   t         //    
 h   h   t     t   p         s  ::   /     /         y  ..       s   t    ..   /     
 h   h   t     t   p     sssss  ::   /     /     yyyyy  ..   sssss   t    ..   /     
                                                                                     
	<https://y.st./>
	Copyright © 2019 Alex Yst <mailto:copyright@y.st>

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program. If not, see <https://www.gnu.org./licenses/>.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<base href="https://y.st./en/weblog/2019/09-September/28.xhtml"/>
		<title>Removing an obnoxious feature from Minetest Game &lt;https://y.st./en/weblog/2019/09-September/28.xhtml&gt;</title>
		<link rel="icon" type="image/png" href="/link/CC_BY-SA_4.0/y.st./icon.png"/>
		<link rel="stylesheet" type="text/css" href="/link/main.css"/>
		<script type="text/javascript" src="/script/javascript.js"/>
		<meta name="viewport" content="width=device-width"/>
	</head>
	<body>
<nav>
	<p>
		<a href="/en/coursework/">Coursework</a> |
		<a href="/en/take-down/">Take-down requests</a> |
		<a href="/en/">Home</a> |
		<a href="/en/a/about.xhtml">About</a> |
		<a href="/en/a/contact.xhtml">Contact</a> |
		<a href="/a/canary.txt">Canary</a> |
		<a href="/en/URI_research/"><abbr title="Uniform Resource Identifier">URI</abbr> research</a> |
		<a href="/en/opinion/">Opinions</a> |
		<a href="/en/law/">Law</a> |
		<a href="/en/recipe/">Recipes</a> |
		<a href="/en/a/links.xhtml">Links</a> |
		<a href="/en/weblog/2019/09-September/28.xhtml.asc">{this page}.asc</a>
	</p>
	<hr/>
	<p>
		Weblog index:
		<a href="/en/weblog/memories">Memories</a> |
		<a href="/en/weblog/"><abbr title="American Standard Code for Information Interchange">ASCII</abbr> calendars</a> |
		<a href="/en/weblog/index_ol_ascending.xhtml">Ascending list</a> |
		<a href="/en/weblog/index_ol_descending.xhtml">Descending list</a>
	</p>
	<hr/>
	<p>
		Jump to entry:
		<a href="/en/weblog/2015/03-March/07.xhtml">&lt;&lt;First</a>
		<a rel="prev" href="/en/weblog/2019/09-September/27.xhtml">&lt;Previous</a>
		<a rel="next" href="/en/weblog/2019/09-September/29.xhtml">Next&gt;</a>
		<a href="/en/weblog/latest.xhtml">Latest&gt;&gt;</a>
			</p>
			<hr/>
</nav>
		<header>
			<h1>Removing an obnoxious feature from Minetest Game</h1>
			<p>Day 01666: <time>Saturday, 2019 September 28</time></p>
		</header>
<img src="/img/CC_BY-SA_4.0/y.st./weblog/2019/09/28.jpg" alt="A fuzzy, orange and black caterpillar on the pavement" class="framed-centred-image" width="649" height="480"/>
<section id="dreams">
	<h2>Dream journal</h2>
	<p>
		I dreamed I had my laptop set up to grind in Minetest.
		Someone wanted to see what was going on, but when I tuned my laptop to show them, I bumped the touchpad, so nodes I didn&apos;t want dug got dug up.
		I could replace the nodes quickly while I could remember what spots had gotten dug up and what was supposed to be there, or I could restore the world from a previously back-up copy of the world.
		At first, I was going to do the former, but then they wanted to play on my laptop.
		I was going to back up my world first, as this is a private world, and I don&apos;t want other people changing it.
		I figured if I liked what they built, I&apos;d rebuild it myself in my copy of the world.
		But then I figured that by the time they were done, I&apos;d&apos;ve likely forgotten part of what I needed to fix.
		I&apos;d have to start back from a previous point anyway, if I couldn&apos;t get this fixed right away.
		And I didn&apos;t have time to fix it right away with them hovering and wanting to play, so I didn&apos;t back up the world, and just handed it over.
	</p>
	<p>
		Somehow, we ended up in the game.
		It was like virtual reality, I guess, except that we had to use in-game functionality to get out, because our actual bodies were in the game.
		For some reason, we went to a restaurant in the game or something.
		I forget exactly what we did.
		But we had to leave because our time was up, and it was time for the next people to use the space.
		We left, but then something dawned on my companion, confusing them.
		I&apos;d told them this was a private world (though I hadn&apos;t told them I was going to revert their changes or that their building stuff here was going to set me back because I was going to have to lose some of my grinding).
		We should be the only two humans here.
		How was there someone running the place to send us away, and how was there someone else with a reservation?
		Apparently, I&apos;d set up the whole world with <abbr title="artificial intelligence">AI</abbr>s.
		They weren&apos;t happy about that, so I spoke aloud a command to the server to turn them off.
		That worked.
		But then, it occurred to me that the command recognition, while not having an actual body in the game world, was one of the <abbr title="artificial intelligence">AI</abbr>s.
		Without that <abbr title="artificial intelligence">AI</abbr>, we were trapped in the game world.
		A command to quit was the in-game functionality I mentioned previously as needed to quit the game.
	</p>
	<p>
		I frantically searched for another <abbr title="artificial intelligence">AI</abbr>; one with a body.
		It&apos;d take a bit of time for the server to clear them all out.
		If I could find one, I&apos;d be able to issue an emergency override command to it that would put it in server command mode so I could fix this predicament.
		I located one, but my companion wanted to do the honours.
		I let them, but they had insufficient privileged to activate an emergency override.
		Of course they did.
		They&apos;re not the administrator of my game world or of my machine, and the fact that I&apos;m there with them means they&apos;re not on my account, even if they&apos;re on my machine, because my account is clearly taken by me.
		That cost us too much time though, and the <abbr title="artificial intelligence">AI</abbr> disappeared from the game world.
	</p>
	<p>
		I don&apos;t really remember what happened after that, but I somehow ended up outside the game world.
		I was staying as a guest at someone&apos;s house with my family.
		I thought I&apos;d forgotten my laptop, but found it in the laptop case strapped to my side.
		I was in a dark room with the lights off, but the glow of a desktop machine&apos;s monitor kept the room lit up well enough to see.
		I took a look at the monitor, which didn&apos;t have anything interesting, but otherwise figured I should leave the machine alone.
	</p>
</section>
<section id="laser">
	<h2>Hair-removal</h2>
	<p>
		As scheduled, I performed the home <abbr title="light amplification by stimulated emission of radiation">laser</abbr> hair-removal treatment again today.
		I still haven&apos;t noticed a reduction in hair growth though.
		I&apos;m starting to worry that this isn&apos;t actually effective, and that I&apos;m going to need to have all hair professionally removed after all, and not just my facial hair and probably my back hair.
		If I start seeing results though, my face and back should be the only parts I actually have to see a doctor for.
		I&apos;d do my back at home, but I can&apos;t reach my back well enough to even shave it properly, let alone thoroughly and carefully get every bit of it with the <abbr title="light amplification by stimulated emission of radiation">laser</abbr>.
	</p>
</section>
<section id="Minetest">
	<h2>Minetest</h2>
	<img src="/img/CC_BY-SA_3.0/minetest.net./weblog/2019/09/28.png" alt="A view of the bridge at night, lit by the elemental crystal" class="framed-centred-image" width="1024" height="600"/>
	<p>
		One of the core developers not of the subgame, but the actual Minetest engine noticed my frustrated pull request.
		Much to my surprise, they were in full agreement that the feature should be removed, stating that they don&apos;t think opting in to leaf decay was a useful feature.
		No.
		No it is not a useful feature.
		I&apos;m glad I&apos;m not the only one that sees this.
		Honestly, I was worried.
		Later, another core developer chimed in, explaining what this nonsense feature was actually added for.
		They agreed it should be removed, but explained that it was added for players who were building trees manually for exporting as schematics.
		Placed leaves would take on the placed-by-player flag, which would be retained in the schematic, and trees grown using that schematic would then not have their leaves subject to leaf decay.
		As this other developer put it, a mod can be used to fix <code>param2</code>&apos;s value before exporting the schematic, which in my opinion, would be the correct way to do this.
		This is especially true given that when building a large tree for use in a schematic you&apos;re going to export, you&apos;re probably using the <code>fly</code> privilege to get high enough to set things in place.
		The &quot;sneak&quot; key makes you descend when flying, making it painful to try to work with &quot;sneak&quot;-key-based mechanics while flying.
		Someone not on the core development team commented that you might want to place nodes with intentional leaf decay for building bridges in a player-versus-player situation.
		You make your getaway, and the other player can&apos;t follow you.
		I was so close though.
		I had two core developers on my side.
		I had to drive the pull request home.
		I brought up two points to invalidate this use case.
		First, no indication is made to the player that this functionality even exists, let alone how to trigger it.
		And second, the self-deleting bridge wouldn&apos;t actually delete itself after all, because leaf decay is only triggered by mining nearby logs.
		The bridge would stay in place until players built tree farms on either side of it, at which point it&apos;d seemingly-randomly start decaying, even if it&apos;d been a perfectly stable bridge for days, or even months.
		And due to the gap the bridge-builder crossed not having land to plant on in the middle, the middle of the bridge would never vanish.
		I think those points sealed the deal.
		A bit later, I found an email confirming that my pull request had been accepted.
		Sweet.
		The next stable version won&apos;t have this annoying mechanic.
		Quite frankly, I didn&apos;t think this pull request would be accepted when I wrote it yesterday, and now just a day later, it has.
		In retrospect, I should have also brought up that placing and mining the logs needed to manually decay the bridge would take longer than just mining the leaves back up after crossing.
	</p>
	<p>
		I thought that I somehow triggered the issue again, even knowing that I needed to avoid the &quot;sneak&quot; key, while grinding.
		Fed up with this, I&apos;ve now added code to my world-specific <code>tweaks</code> mod to remove leaf decay altogether.
		Well, not altogether.
		It still affects apples, which is fine because apples drop when they &quot;decay&quot; instead of just disappearing altogether like leaves do.
		Why are apples subject to <strong>*leaf*</strong> decay though?
		After having written up the code though, when I was about to test it, I realised what had actually likely happened.
		I&apos;d probably accidentally switched to having a stack of saplings in-hand, had placed one on the leaves below, then removed the leaves.
		The saplings were an attached node, if I recalled.
		Sure enough, repeating what I&apos;d thought had occurred produced the expected results.
		That made more sense, as even if I&apos;d hit some keys when either setting up or stopping the grinding, the leaf decay shouldn&apos;t&apos;ve been triggered until I&apos;d mined a nearby log, and I&apos;d done no such thing.
		I didn&apos;t need to remove leaf decay after all.
		I&apos;d already done it though, so there was no point in deleting it.
		<del>Some</del> <ins>Most</ins> players refer to mine the trunks away, then let leaf decay do the leaf cleanup for them.
		I&apos;m one of the few that actually treats leaves as an actual resource to be harvested and used every single time.
		Or at least, I used to do that, back before <code>liblevelup</code> (then known as <code>minestats</code>).
		I used them as renewable furnace fuel, mostly.
		These days though, I grind them into saplings.
		Either way though, there does not exist a situation in which I want leaves decaying on me.
		I make use of them to their fullest capacity, and it&apos;s always a mistake when I lose them to leaf decay.
		With this code in place, that&apos;s one less thing for me to worry about.
		Basically, the code just makes the leaf timer do nothing.
		Harvesting a tree trunk still triggers the timer in all nearby leaves of the relevant type, but those leaf nodes no longer have a function to activate once the timer goes off.
		It&apos;s simple, and leaves the bulk of the leaf decay code uselessly running in vain, but I see no reason why it shouldn&apos;t be fine for a single-player world that doesn&apos;t have to support bunch of players; a world that can spare the system resources.
	</p>
	<p>
		Hmm.
		On second thought though, maybe I should go back and patch out the other parts of leaf decay&apos;s code too, so as to be less hard on the machine.
	</p>
</section>
<section id="gaffs">
	<h2>Why didn&apos;t I buy gaffs!?</h2>
	<p>
		I wore one of the new jockstraps all day today, but it really is too large.
		I found it wasn&apos;t holding, and I found myself thinking about how I&apos;d modify it to make it work.
		If I stitch the base of the main front to the back strap, eliminating the connecting straps between, it should work pretty good.
		But then I realised I should just buy some gaffs instead of just making do.
	</p>
	<p>
		When I got home, I thought about this some more.
		Why had I not just gotten gaffs in the first place?
		Originally, I&apos;d been using that jockstrap as a makeshift gaff because I wanted to make use of what I already had, instead of spending money.
		I had a jockstrap Summer had once given me, I guess expecting me to get into sports.
		But that never happened.
		She pushed me into playing football for a time, but that was forced the whole time.
		I&apos;m not sure I even wore the jockstrap at that point; I&apos;m not sure I even owned it yet.
		In any case, I had it on-hand, so I might as well put it to use for something.
		As soon as I decided to actually buy something though, the thing to buy shouldn&apos;t have been more jockstraps.
		I guess I&apos;m still too stressed to get very far in planning ahead at the moment.
		But anyway, yeah, that was a bad idea.
		I should have just ordered gaffs online.
		They wouldn&apos;t&apos;ve arrived by the time the cancelled swim lesson was scheduled to happen, but I could have made do with the single jockstrap until then.
		I&apos;ll probably get some gaffs ordered tomorrow, if I can find a store that&apos;ll sell them to me.
	</p>
</section>
		<hr/>
		<p>
			Copyright © 2019 Alex Yst;
			You may modify and/or redistribute this document under the terms of the <a rel="license" href="/license/gpl-3.0-standalone.xhtml"><abbr title="GNU&apos;s Not Unix">GNU</abbr> <abbr title="General Public License version Three or later">GPLv3+</abbr></a>.
			If for some reason you would prefer to modify and/or distribute this document under other free copyleft terms, please ask me via email.
			My address is in the source comments near the top of this document.
			This license also applies to embedded content such as images.
			For more information on that, see <a href="/en/a/licensing.xhtml">licensing</a>.
		</p>
		<p>
			<abbr title="World Wide Web Consortium">W3C</abbr> standards are important.
			This document conforms to the <a href="https://validator.w3.org./nu/?doc=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F09-September%2F28.xhtml"><abbr title="Extensible Hypertext Markup Language">XHTML</abbr> 5.2</a> specification and uses style sheets that conform to the <a href="http://jigsaw.w3.org./css-validator/validator?uri=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F09-September%2F28.xhtml"><abbr title="Cascading Style Sheets">CSS</abbr>3</a> specification.
		</p>
	</body>
</html>

