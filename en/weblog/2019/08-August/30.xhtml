<?xml version="1.0" encoding="utf-8"?>
<!--
                                                                                     
 h       t     t                ::       /     /                     t             / 
 h       t     t                ::      //    //                     t            // 
 h     ttttt ttttt ppppp sssss         //    //  y   y       sssss ttttt         //  
 hhhh    t     t   p   p s            //    //   y   y       s       t          //   
 h  hh   t     t   ppppp sssss       //    //    yyyyy       sssss   t         //    
 h   h   t     t   p         s  ::   /     /         y  ..       s   t    ..   /     
 h   h   t     t   p     sssss  ::   /     /     yyyyy  ..   sssss   t    ..   /     
                                                                                     
	<https://y.st./>
	Copyright © 2019 Alex Yst <mailto:copyright@y.st>

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program. If not, see <https://www.gnu.org./licenses/>.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<base href="https://y.st./en/weblog/2019/08-August/30.xhtml"/>
		<title>Breakin&apos; my system &lt;https://y.st./en/weblog/2019/08-August/30.xhtml&gt;</title>
		<link rel="icon" type="image/png" href="/link/CC_BY-SA_4.0/y.st./icon.png"/>
		<link rel="stylesheet" type="text/css" href="/link/main.css"/>
		<script type="text/javascript" src="/script/javascript.js"/>
		<meta name="viewport" content="width=device-width"/>
	</head>
	<body>
<nav>
	<p>
		<a href="/en/coursework/">Coursework</a> |
		<a href="/en/take-down/">Take-down requests</a> |
		<a href="/en/">Home</a> |
		<a href="/en/a/about.xhtml">About</a> |
		<a href="/en/a/contact.xhtml">Contact</a> |
		<a href="/a/canary.txt">Canary</a> |
		<a href="/en/URI_research/"><abbr title="Uniform Resource Identifier">URI</abbr> research</a> |
		<a href="/en/opinion/">Opinions</a> |
		<a href="/en/law/">Law</a> |
		<a href="/en/recipe/">Recipes</a> |
		<a href="/en/a/links.xhtml">Links</a> |
		<a href="/en/weblog/2019/08-August/30.xhtml.asc">{this page}.asc</a>
	</p>
	<hr/>
	<p>
		Weblog index:
		<a href="/en/weblog/memories">Memories</a> |
		<a href="/en/weblog/"><abbr title="American Standard Code for Information Interchange">ASCII</abbr> calendars</a> |
		<a href="/en/weblog/index_ol_ascending.xhtml">Ascending list</a> |
		<a href="/en/weblog/index_ol_descending.xhtml">Descending list</a>
	</p>
	<hr/>
	<p>
		Jump to entry:
		<a href="/en/weblog/2015/03-March/07.xhtml">&lt;&lt;First</a>
		<a rel="prev" href="/en/weblog/2019/08-August/29.xhtml">&lt;Previous</a>
		<a rel="next" href="/en/weblog/2019/08-August/31.xhtml">Next&gt;</a>
		<a href="/en/weblog/latest.xhtml">Latest&gt;&gt;</a>
			</p>
			<hr/>
</nav>
		<header>
			<h1>Breakin&apos; my system</h1>
			<p>Day 01637: <time>Friday, 2019 August 30</time></p>
		</header>
<img src="/img/CC_BY-SA_4.0/y.st./weblog/2019/08/30.jpg" alt="Sheds for sale" class="framed-centred-image" width="800" height="480"/>
<section id="diet">
	<h2>Dietary intake</h2>
	<p>
		I had a peanut butter and jelly sandwich for breakfast, as I was out of cereal.
		I didn&apos;t really have a full lunch due to lack of time, but had 14 potato nuggets as a sort of mini lunch.
		For dinner, I had 316 grams of muffuletta for dinner.
		After work, I had 90 grams of chocolate.
	</p>
</section>
<section id="drudgery">
	<h2>Drudgery</h2>
	<p>
		I stayed up a bit past midnight to get some work on the janky PureOS laptop done.
		The way I saw it, the recompilation would take a while.
		Why not sleep through the process?
		But to do that, I had to get the process started before going to bed.
		I compiled the changed source code into package form on <a href="/en/domains/bailey.local.xhtml"><code>bailey</code></a> as I slept, and install it in the morning.
		Before I went to bed though, I did some research on getting mouse button emulation on <abbr title="K Desktop Environment">KDE</abbr> Plasma, and found there&apos;s actually an option in the settings application to enable it.
		I&apos;d just missed it because I wasn&apos;t looking in the right place.
		Two-finger scrolling was already working in Plasma prior, and it&apos;s worth noting that Plasma does the scrolling in the intuitive direction.
		<abbr title="GNU Network Object Model Environment">GNOME</abbr> does it backwards.
		I had to relearn how to scroll in <abbr title="GNU Network Object Model Environment">GNOME</abbr>, so after switching to Plasma, I had to start relearning again, because <abbr title="GNU Network Object Model Environment">GNOME</abbr> is wonky while Plasma doesn&apos;t seem to be as wonky.
		But now, middle and left click emulation was enabled on <a href="/en/domains/taylor.local.xhtml"><code>taylor</code></a> in Plasma too.
	</p>
	<p>
		As for the source code edit I made, I decided to just have <code>g_utf8_collate_key_for_filename()</code> return its argument instead of copying <code>g_utf8_collate_key()</code>&apos;s function body over as I&apos;d initially planned.
		After I was done with it, the entire function definition - located in <code>glib/gunicollate.c</code> - simply looked like this:
	</p>
	<blockquote>
<pre><code>gchar *
g_utf8_collate_key_for_filename (const gchar *str,
				 gssize       len)
{
  return str;
}</code></pre>
	</blockquote>
	<p>
		Perfect.
		The function should now make no <abbr title="GNU Network Object Model Environment">GNOME</abbr>-specific changes to filename-sorting whatsoever.
		When the compilation ended and I installed the package, I found that file-sorting still allowed a bunch of garbage to happen.
		I&apos;m not sure exactly why.
		However, as long as I made sure <var>LC_COLLATE</var> was set to <code>C</code>, most of that garbage went away.
		Setting <var>LC_COLLATE</var> wasn&apos;t as easy as it should have been, as setting it in the <code>~/.profile</code> script didn&apos;t seem to do anything, but I found <a href="https://unix.stackexchange.com/questions/108427/i-have-an-environment-variable-for-lang-set-in-profile-but-it-is-not-getting">instructions on setting <var>LC_LANG</var> as seen by your desktop environment</a>.
		Modifying the instructions a little, I instead set <var>LC_COLLATE</var> by running <kbd>sudo update-locale LC_COLLATE=C</kbd>.
		You really shouldn&apos;t need root access; there aught to be a way to set this on a per-user level, but this was the only way I could find to make it work.
		Some non-<abbr title="GNU Network Object Model Environment">GNOME</abbr> applications aren&apos;t using <code>g_utf8_collate_key_for_filename()</code>&apos;s output as intended, and those applications still imposing case-insensitive file-sorting, but most applications get it right after making this change and even those that get it wrong only mess up in their lack of case sensitivity, not in grouping characters or ignoring them outright.
		I should now even be able to use Xfce again on <code>bailey</code> until it finishes dying on me.
	</p>
	<p>
		I tried to perform the same upgrade to <code>taylor</code>, but found that the package manager didn&apos;t know where the source files were.
		Lovely.
		I couldn&apos;t simply use the package I&apos;d compiled for <code>bailey</code>, as it wouldn&apos;t be compatible.
		I asked on the forum were to get the source code, not expecting an answer today.
		However, the director of the PureOS project got back to me right away.
		So far, it seems like they jump in with answers when the questions seem simple, but if you ask the tough questions, they ignore your posts.
		&quot;Where is your source code&quot; is a simple question for someone working on a project whose premise is that all the source code is available to the public though, so they gave me a very quick answer, with enough details that if I didn&apos;t know what I was doing, I could still follow their instructions.
		I like to think it was clear I knew what I was doing, but adding the details gives the thread value to others that might read it looking for the answer to that same question.
		I plan to write up a detailed explanation of how I fixed the file-sorting issue too once I actually succeed in fixing that, even though the current participants in the thread don&apos;t seem to care, mostly for that very reason.
		Anyway, the repo the director pointed me to were Aptitude-compatible, so I could just add <code>deb-src tor+https://repo.puri.sm/pureos green main</code> to <a href="file:///etc/apt/sources.list"><code>file:///etc/apt/sources.list</code></a>, run <kbd>sudo aptitude update</kbd>, then pick up where I&apos;d left off and continue using the strategy I&apos;d made work on <code>bailey</code>.
	</p>
	<p>
		When I installed <a href="apt:pbuilder"><code>pbuilder</code></a> on Debian, it didn&apos;t do this, but when I installed it on PureOS, I was given the following prompt:
	</p>
	<blockquote>
<pre><code>  ┌─────────────────────────┤ Configuring pbuilder ├─────────────────────────┐
  │ Please enter the default mirror you want to be used by pbuilder.         │ 
  │                                                                          │ 
  │ If you leave this field blank, there will be one attempt to autodetect   │ 
  │ this information. If this attempt fails, you will be prompted again to   │ 
  │ insert some valid mirror information.                                    │ 
  │                                                                          │ 
  │ Here is a valid mirror example: http://deb.debian.org/debian             │ 
  │                                                                          │ 
  │ Default mirror site:                                                     │ 
  │                                                                          │ 
  │ ________________________________________________________________________ │ 
  │                                                                          │ 
  │                                  <Ok>                                    │ 
  │                                                                          │ 
  └──────────────────────────────────────────────────────────────────────────┘ 
                                                                               </code></pre>
	</blockquote>
	<p>
		A mirror?
		What?
		Why does <code>pbuilder</code> need a mirror?
		I tried leaving it blank to activate the autodetection, but that failed.
		From the look of it, it was after the main repository mirror, so I gave it <kbd>https://repo.puri.sm/pureos</kbd>, as it&apos;s the only repository address in the system&apos;s default configuration.
		That seemed to work.
		But if it&apos;s after the repository mirror, why didn&apos;t it just read that from the package manager&apos;s configuration files?
	</p>
	<p>
		Once I installed the new package on <code>taylor</code> that had been compiled using a modified version of the original source code for the default package from <code>taylor</code>&apos;s operating system, PureOS, I found that software that depended on the library offered by this package started crashing.
		If the software would normally use this obnoxious sorting algorithm, the software crashed right away or even seemed to crash before it had really started.
		On the other hand, some software, such as PCManFM, which specifically <strong>*doesn&apos;t*</strong> have this obnoxious behaviour, would crash when I&apos;d do something else.
		For example, PCManFM didn&apos;t crash when first opened to any directory I tried, but instead when I would try to switch that window to show another directory, such as a subdirectory.
	</p>
	<p>
		At that point, I got desperate, and started acting like an idiot.
		First of all, I didn&apos;t back up my data.
		And secondly, I tried installing the package meant for <code>bailey</code> on <code>taylor</code>.
		I figured maybe there was something wrong with <code>taylor</code>&apos;s ability to correctly compile binaries, like maybe there was some error in its build stack.
		I knew installing packages meant for one system on another system was said to cause instability, so I shouldn&apos;t do it, but I had absolutely zero experience with that sort of thing, so I didn&apos;t know firsthand what kind of problems could result.
		I ended up breaking the system even worse, to the point where I couldn&apos;t even start up the graphical shell.
		Luckily, I could still get into <code>tty3</code>, though oddly, only if I tried to get into it quickly enough.
		If I waited too long, I couldn&apos;t switch to <code>tty3</code> (or any <code>tty</code>), and after entering the key sequence to pull up <code>tty3</code> in time, it took a few seconds for it to work.
		That made me keep thinking on some level that I hadn&apos;t been quick enough, though as far as I can tell, the timing wasn&apos;t all that precise, so every time that my goal was to go straight there, I got there.
		From this command line, I was able to back up my files.
		I started the process and went to work, only to find when I arrived home that the dot-files hadn&apos;t been copied.
		I wasn&apos;t sure what dot-files would have been missed recursively, to I had to start the process over again.
		The backup went quicker than I thought it would though, and had completed before I could even get the PureOS <abbr title="International Organisation for Standardisation">ISO</abbr> downloaded on the other machine.
		And while both processes simultaneously moved toward completion, I worked on typing up my journal entry, so I actually didn&apos;t waste very much of me time.
		I should have backed up my data first.
		Other than that though, I regret nothing.
		This was a learning experience for me.
		Once I had the <abbr title="International Organisation for Standardisation">ISO</abbr>, I reinstalled the system and had a clean start.
	</p>
</section>
<section id="purse">
	<h2>Ruined purse</h2>
	<p>
		I was headed out before work today to return more of those bottles for deposit, and found my purse zipper had snagged on itself.
		The zipper was coming apart, and as I wrestled with the zipper pull to try to force it to function, the zipper teeth on the wrong end came apart even further.
		I&apos;m pretty sure I can&apos;t save this thing.
		To be honest, the purse&apos;s other zipper has been coming off the purse for quite a while.
		I&apos;ve been thinking I need to replace the thing, though I&apos;ve been putting it off for months.
		I guess I should have tried stitching that other zipper back on, but now that this zipper has acted up so badly, there really is no saving the thing, as far as I can tell.
		I can&apos;t even replace just the zipper, due to the angles and small areas I&apos;d need to work my hand into to make that work.
		Besides, the colour of the purse has been wearing off for quite a while too, so that back side of the purse looks just terrible.
	</p>
	<p>
		So today, I finally went purse-shopping.
		I was in a rush, so I really didn&apos;t compare my options as well as I should have, and though none of them were quite to my liking, I ended up buying one anyway because I didn&apos;t have a backup purse.
		I should have bought a backup purse sooner.
		This one is larger than the last one, which is very nice.
		However, it&apos;s also got such a short strap, and I didn&apos;t realise just how much of a problem that was until later when I tried to use it.
		It&apos;s a bit of a pain to get my wallet in and out of.
		Oh well.
		This will have to do for now.
		I&apos;ve got too much garbage on my plate to worry about getting the perfect purse at the moment.
	</p>
</section>
<section id="Minetest">
	<h2>Minetest</h2>
	<p>
		At some point before I messed up <code>taylor</code>, I got some code written to make it so I can&apos;t accidentally place nodes that overwrite other nodes, with the exception of overwriting flowing liquids, water sources (both types), and air.
		Any time I do overwrite these nodes by placing other nodes within them, it&apos;s a mistake, and it drives me nuts.
		My tests show that this didn&apos;t fix the problem of dropping falling nodes into lava though.
		The lava still gets overwritten.
		Fixing that&apos;ll probably be my next step.
	</p>
</section>
<section id="battery">
	<h2>GT-i9100 battery</h2>
	<p>
		The GT-i9100 battery arrived today.
		I was actually worried it wouldn&apos;t arrive at all, and I&apos;d have to argue with the company about having locked me out of my account after having placed the order.
		Unlike the other company, which locked me out of my account and cancelled my order without even telling me they&apos;d cancelled it, this one locked me out of the account but took my money and claimed to have sent the battery.
		Well, it arrived now, so they did actually send it.
	</p>
	<p>
		I swapped out the battery at work.
		When I took the battery out of the device to swap out the terribly-placed <abbr title="Secure Digital">SD</abbr> card, the device lost track of the time and I had to re-enter it each time.
		That was particularly annoying because the device doesn&apos;t let you set the month and year with separate controls, but instead makes you scroll past over nineteen years worth on months to get to the correct month.
		What a pain.
		When I swapped the battery out entirely today though, it kept the time and date, so I didn&apos;t have to do that.
		Maybe it&apos;s because the device wasn&apos;t without a battery for as long or something.
	</p>
	<p>
		The device claims the battery started at twenty percent charge though, which seems reasonable.
		I&apos;m not sure it&apos;s accurate give that on the other battery, it jumped around in its charge level claims, but I&apos;m hoping the charge level reading is correct on the new battery.
		Anyway, with such a low charge, I can&apos;t do any real testing, so when I got home, I charged it up while I was doing other things, and I&apos;m leaving it with aeroplane mode turned off overnight to see if it can keep a charge for several hours at a time.
		Hopefully this battery does better than the previous one.
		But then again, the previous one had a physical crack in it.
		It&apos;s really no wonder it didn&apos;t work as well as it should have.
	</p>
</section>
<section id="churches">
	<h2>Other churches</h2>
	<p>
		The other shift-leader-in-training is an agnostic Catholic, and we get to talking about religion a lot because on a lot of levels, we&apos;re on the same page about it.
		They&apos;re not sure that the Catholic god - the Catholic version of Yahweh - isn&apos;t real, but they&apos;re as convinced that Yahweh is an evil god as I am.
		Today, we were talking, and they told me as they&apos;d told me before that the Mormon church is a cult.
		I&apos;m not sure if it is or not, but that&apos;s not what was interesting to me.
		We got to talking about what is actually done in churches, and it seems that the Mormon way of mostly spending the entire church session asserting that you know the teachings of the church to be true without actually providing any meaningful evidence or discussing anything of actual value isn&apos;t the way the Catholics spend the time.
		Instead, the Catholics read some verses, don&apos;t really assert anything, and you can ask questions after the service if you&apos;d like.
		From the sound of it, my workmate might have experience having been to other churches too, as they made it out like other churches are more similar to the Catholics than the Mormons.
	</p>
	<p>
		It made me think.
		I&apos;d like to see what the other churches do.
		I don&apos;t believe what any church believes, but I&apos;d like to know how it is they spend their Sundays, if not just to fulfil my curiosity, to have other date points so I&apos;m not judging all churches by what I&apos;ve seen the Mormons do.
		I think when I have time, I&apos;d like to try visiting other churches.
		I&apos;ll probably visit some of the ones that showed up at the pride festival.
		I mean, they were practically <strong>*inviting*</strong> us queers to come joint them.
		I&apos;m sure they wouldn&apos;t mind if I sat in on a few services, seeing as I&apos;d do so respectfully.
	</p>
</section>
		<hr/>
		<p>
			Copyright © 2019 Alex Yst;
			You may modify and/or redistribute this document under the terms of the <a rel="license" href="/license/gpl-3.0-standalone.xhtml"><abbr title="GNU&apos;s Not Unix">GNU</abbr> <abbr title="General Public License version Three or later">GPLv3+</abbr></a>.
			If for some reason you would prefer to modify and/or distribute this document under other free copyleft terms, please ask me via email.
			My address is in the source comments near the top of this document.
			This license also applies to embedded content such as images.
			For more information on that, see <a href="/en/a/licensing.xhtml">licensing</a>.
		</p>
		<p>
			<abbr title="World Wide Web Consortium">W3C</abbr> standards are important.
			This document conforms to the <a href="https://validator.w3.org./nu/?doc=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F08-August%2F30.xhtml"><abbr title="Extensible Hypertext Markup Language">XHTML</abbr> 5.2</a> specification and uses style sheets that conform to the <a href="http://jigsaw.w3.org./css-validator/validator?uri=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2019%2F08-August%2F30.xhtml"><abbr title="Cascading Style Sheets">CSS</abbr>3</a> specification.
		</p>
	</body>
</html>

