<?xml version="1.0" encoding="utf-8"?>
<!--
                                                                                     
 h       t     t                ::       /     /                     t             / 
 h       t     t                ::      //    //                     t            // 
 h     ttttt ttttt ppppp sssss         //    //  y   y       sssss ttttt         //  
 hhhh    t     t   p   p s            //    //   y   y       s       t          //   
 h  hh   t     t   ppppp sssss       //    //    yyyyy       sssss   t         //    
 h   h   t     t   p         s  ::   /     /         y  ..       s   t    ..   /     
 h   h   t     t   p     sssss  ::   /     /     yyyyy  ..   sssss   t    ..   /     
                                                                                     
	<https://y.st./>
	Copyright Â© 2016 Alex Yst <mailto:copyright@y.st>

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program. If not, see <https://www.gnu.org./licenses/>.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<base href="https://y.st./en/weblog/2016/04-April/02.xhtml"/>
		<title>Blocking exit and non-exit Tor nodes &lt;https://y.st./en/weblog/2016/04-April/02.xhtml&gt;</title>
		<link rel="icon" type="image/png" href="/link/CC_BY-SA_4.0/y.st./icon.png"/>
		<link rel="stylesheet" type="text/css" href="/link/main.css"/>
		<script type="text/javascript" src="/script/javascript.js"/>
		<meta name="viewport" content="width=device-width"/>
	</head>
	<body>
<nav>
	<p>
		<a href="/en/">Home</a> |
		<a href="/en/a/about.xhtml">About</a> |
		<a href="/en/a/contact.xhtml">Contact</a> |
		<a href="/a/canary.txt">Canary</a> |
		<a href="/en/URI_research/"><abbr title="Uniform Resource Identifier">URI</abbr> research</a> |
		<a href="/en/opinion/">Opinions</a> |
		<a href="/en/take-down/">Take-down requests</a> |
		<a href="/en/law/">Law</a> |
		<a href="/en/a/links.xhtml">Links</a> |
		<a href="/en/weblog/2016/04-April/02.xhtml.asc">{this page}.asc</a>
	</p>
	<hr/>
	<p>
		Weblog index:
		<a href="/en/weblog/"><abbr title="American Standard Code for Information Interchange">ASCII</abbr> calendars</a> |
		<a href="/en/weblog/index_ol_ascending.xhtml">Ascending list</a> |
		<a href="/en/weblog/index_ol_descending.xhtml">Descending list</a>
	</p>
	<hr/>
	<p>
		Jump to entry:
		<a href="/en/weblog/2015/03-March/07.xhtml">&lt;&lt;First</a>
		<a rel="prev" href="/en/weblog/2016/04-April/01.xhtml">&lt;Previous</a>
		<a rel="next" href="/en/weblog/2016/04-April/03.xhtml">Next&gt;</a>
		<a href="/en/weblog/latest.xhtml">Latest&gt;&gt;</a>
			</p>
			<hr/>
</nav>
		<header>
			<h1>Blocking exit and non-exit <abbr title="The Onion Router">Tor</abbr> nodes</h1>
			<p>Day 00392: Saturday, 2016 April 02</p>
		</header>
<p>
	My modem keeps giving out on me, which is incredibly annoying.
	It&apos;s been doing this over the past few days.
	Worse though, it somehow brings my <abbr title="The Onion Router">Tor</abbr> node down with it.
	Once <abbr title="The Onion Router">Tor</abbr> goes down, I can bring it back up, but it won&apos;t stay up, at least not if I bring it up with its correct configuration.
	Instead, I have to remove my <a href="/en/domains/sbuk7aqcxkoyipwv.onion.xhtml"><abbr title="Internet Relay Chat">IRC</abbr> proxy hidden service</a> from <a href="file:///etc/tor/torrc">torrc file</a>, start <a href="apt:tor"><abbr title="The Onion Router">Tor</abbr></a>, add the hidden service back to torrc, and run <code>sudo killall -HUP tor</code> to make <abbr title="The Onion Router">Tor</abbr> read and use the proper configuration.
	It&apos;s driving me nuts.
	If <abbr title="The Onion Router">Tor</abbr> is able to use the configuration I want, why isn&apos;t it able to start up with that configuration?
</p>
<p>
	I haven&apos;t heard back from the Patreon people yet, so I decided to write another email, further explaining the problem:
</p>
<blockquote>
<p>
	Hello!
</p>
<p>
	I&apos;ve done more looking into this issue on my own.
	It seems to be due to the new obnoxious CAPTCHA frequency.
	It used to be that Patreon would force me to fill out a CAPTCHA every couple months or so.
	Now, Patreon requires a CAPTCHA every time that I visit the site.
	As a paying customer, this makes me very unhappy, but as the login issue was a bigger problem, I wrote about that first and was going to complain about the CAPTCHAs later.
	As it turns out though, your log in JavaScript is itself behind another CAPTCHA, one that can&apos;t be solved because it never gets seen.
</p>
<p>
	I hate to be rude, but this really does need to be fixed.
	It isn&apos;t polite to bombard your paying customers with CAPTCHAs every time that they visit your site.
	Please, PLEASE fix this.
</p>
<p>
	~ Yst Dawson
</p>
</blockquote>
<p>
	I hope that I didn&apos;t sound too rude, but their new policy of serving <abbr title="Completely Automated Public Turing test to tell Computers and Humans Apart">CAPTCHA</abbr>s to <abbr title="The Onion Router">Tor</abbr> users is garbage.
</p>
<p>
	Speaking of <abbr title="The Onion Router">Tor</abbr> users, the Geocaching website now thinks that my mother is a <abbr title="The Onion Router">Tor</abbr> user and is preventing her from logging her finds.
	There&apos;s no reason for this.
	Sure, we have a <abbr title="The Onion Router">Tor</abbr> relay at the house, but it&apos;s a non-exit node.
	Anyone that is connecting to their site from her <abbr title="Internet Protocol">IP</abbr> address isn&apos;t a <abbr title="The Onion Router">Tor</abbr> user.
	Being that my mother is extremely against privacy and proxies, she blamed me, not the website.
	She doesn&apos;t know about my <abbr title="The Onion Router">Tor</abbr> node though, she only knows that I use proxies, so I was quickly able to get her to stop blaming me by showing her that, from her own Web browser, her <abbr title="Internet Protocol">IP</abbr> address shows up as being one located in our city and owned by our <abbr title="Internet service provider">ISP</abbr>.
	Regardless, I don&apos;t need her looking into this any further, as she feels proxies, not those that block them, are the problem.
	Even if proxies were the problem, my node&apos;s not an exit, so blocking it doesn&apos;t block proxies; instead, it blocks people on the same network as a proxy.
	It&apos;s not an attack on anonymity, demanding that your users bow to you and tell you where they are.
	It&apos;s an attack on those that support anonymity, even if they are willing to give you, and only you, their <abbr title="Internet Protocol">IP</abbr> address!
</p>
<blockquote>
<p>
	A while ago, I wrote to Geocaching about you blocking proxies being used to log finds.
	Although proxies are an important tool for fighting government surveillance, you took the pro-surveillance side and wouldn&apos;t fix the problem.
</p>
<p>
	However now, you&apos;re blocking my mother, Dragon&apos;s Passion 4 Caching, from logging from her home connection.
	She doesn&apos;t use a proxy.
	Her home IP address is 97.82.100.91.
	Can you please do something to unblock her?
</p>
</blockquote>
<p>
	When I wrote to them about the issue with them blocking proxies, they mentioned being able to whitelist <abbr title="Internet Protocol">IP</abbr> addresses, and they were willing to do it for me.
	It didn&apos;t help me, as my <abbr title="Internet Protocol">IP</abbr> address changes every ten minutes, but I&apos;m hoping that they&apos;ll do it for my mother.
	I dropped her name, as she has 13337 finds so far, so she&apos;s no small-time player.
	If they are willing to whitelist someone, they&apos;ll likely whitelist her.
	Furthermore, she&apos;s one of their paying members, and you don&apos;t want to block your customers.
</p>
<p>
	I finished the upcoming version of <a href="https://git.vola7ileiax4ueow.onion/y.st./include.d">include.d</a>, but it was a good thing that I started working on the debug scripts again.
	I had tried to use <code>\rawurlencode()</code>.
	as a callback function for <code>\preg_replace_callback()</code>.
	<code>\preg_replace_callback()</code> passes an array to its callback, which I hadn&apos;t anticipated, and <code>\rawurlencode()</code> operates on strings.
	It was an easy enough fix, I just needed a wrapper function, but it seemed like overkill to build a function that simply takes an array and passes the first element to <code>\rawurlencode()</code>.
	I ended up instead creating a wrapper class that takes any callable during instantiation and wraps it for use with <code>\preg_replace_callback()</code>.
	Any string manipulation function that takes a single string as an argument and returns a string as output can be wrapped with an instance of this class.
	I also had a flash of inspiration, so I built a function and constant autoloader proof of concept.
	It works perfectly, aside from the fact that you can&apos;t use the standard function-calling and constant-checking syntax if you want to make use of the autoloader.
	It would be much nicer if this functionality were built into <abbr title="PHP: Hypertext Preprocessor">PHP</abbr> the way that the class autoloading functionality is.
	I didn&apos;t get a chance to finish documenting this autoloading class though, so I&apos;ll have to do that at a later time.
</p>
<p>
	There&apos;s still a lot of work to do before the debugging scripts are finished, but I think I&apos;m going to try to get back to the job hunt tomorrow.
	I&apos;ve made great progress on include.d over the past couple days, but include.d isn&apos;t my only responsibility, unfortunately.
</p>
<p>
	Today, we went out gathering bullet shells again.
	While out, our mother briefed us on a couple updates.
	First, it seems that the <abbr title="cardiopulmonary resuscitation">CPR</abbr> training tomorrow isn&apos;t <abbr title="cardiopulmonary resuscitation">CPR</abbr> training, it&apos;s first aid training.
	Apparently, she&apos;d told Cyrus and Vanessa, but had just assumed that I would somehow know.
	This changes things though.
	I&apos;m not sure that there&apos;s a general &quot;first aid certification&quot;, which means that there shouldn&apos;t be any need for my name anywhere; she won&apos;t be causing conflicts.
	Second, it seems that our mother was required to sign her work contract for next year today.
	Does that mean that we&apos;re staying in the city after all? I&apos;m not sure, she might end up getting out of the contract somehow.
</p>
		<hr/>
		<p>
			Copyright Â© 2016 Alex Yst;
			You may modify and/or redistribute this document under the terms of the <a rel="license" href="/license/gpl-3.0-standalone.xhtml"><abbr title="GNU&apos;s Not Unix">GNU</abbr> <abbr title="General Public License version Three or later">GPLv3+</abbr></a>.
			If for some reason you would prefer to modify and/or distribute this document under other free copyleft terms, please ask me via email.
			My address is in the source comments near the top of this document.
			This license also applies to embedded content such as images.
			For more information on that, see <a href="/en/a/licensing.xhtml">licensing</a>.
		</p>
		<p>
			<abbr title="World Wide Web Consortium">W3C</abbr> standards are important.
			This document conforms to the <a href="https://validator.w3.org./nu/?doc=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2016%2F04-April%2F02.xhtml"><abbr title="Extensible Hypertext Markup Language">XHTML</abbr> 5.2</a> specification and uses style sheets that conform to the <a href="http://jigsaw.w3.org./css-validator/validator?uri=https%3A%2F%2Fy.st.%2Fen%2Fweblog%2F2016%2F04-April%2F02.xhtml"><abbr title="Cascading Style Sheets">CSS</abbr>3</a> specification.
		</p>
	</body>
</html>

